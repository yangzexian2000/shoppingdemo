<!DOCTYPE html >
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link href="../static/css/common.css" rel="stylesheet" type="text/css" />
	<link href="../static/fonts/iconfont.css"  rel="stylesheet" type="text/css" />
	<link href="../static/css/style.css" rel="stylesheet" type="text/css" />
	<link href="../static/css/sumoselect.css" rel="stylesheet"  type="text/css"/>
	<link href="../static/css/purebox-metro.css" rel="stylesheet" id="skin">
	<link type="text/css" rel="stylesheet" href="../static/bootstrap-3.3.7-dist/css/bootstrap.min.css"/>
	<script type="text/javascript" src="../static/jquery-3.5.1/jquery-3.5.1.js"></script>
	<script type="text/javascript" src="../static/jquery-3.5.1/三级.js"></script>
	<script type="text/javascript" src="../static/bootstrap-3.3.7-dist/js/bootstrap.js"></script>
	<script src="../static/js/jquery.min.1.8.2.js" type="text/javascript"></script>
	<script src="../static/js/jquery.sumoselect.js"></script>
	<script src="../static/js/jquery.SuperSlide.2.1.1.js" type="text/javascript"></script>
	<script src="../static/js/common_js.js" type="text/javascript"></script>
	<script src="../static/js/footer.js" type="text/javascript"></script>




	<title>收货地址管理</title>
</head>

	<!--[if IE]>
		<script src="http://libs.useso.com/js/html5shiv/3.7/html5shiv.min.js"></script>
	<![endif]-->
<body>
<!--顶部样式-->
 <div id="header_top">
  <div id="top">
    <div class="Inside_pages">
      <div class="Collection" >下午好，欢迎光临锦宏颜！<em></em><a href="#">收藏我们</a></div>
	<div class="hd_top_manu clearfix">
	  <ul class="clearfix">
	   <li class="hd_menu_tit zhuce" data-addclass="hd_menu_hover">欢迎光临本店！<a href="#" class="red">[请登录]</a> 新用户<a href="#" class="red">[免费注册]</a></li>
	   <li class="hd_menu_tit" data-addclass="hd_menu_hover"><a href="#">我的订单</a></li> 
	   <li class="hd_menu_tit" data-addclass="hd_menu_hover"> <a href="#">购物车</a> </li>
	   <li class="hd_menu_tit" data-addclass="hd_menu_hover"><a href="#">联系我们</a></li>
	   <li class="hd_menu_tit list_name" data-addclass="hd_menu_hover"><a href="#" class="hd_menu">客户服务</a>
	    <div class="hd_menu_list">
		   <ul>
		    <li><a href="#">常见问题</a></li>
			<li><a href="#">在线退换货</a></li>
		    <li><a href="#">在线投诉</a></li>
			<li><a href="#">配送范围</a></li>
		   </ul>
		</div>	   
	   </li>
       <li class="hd_menu_tit phone_c" data-addclass="hd_menu_hover"><a href="#" class="hd_menu "><em class="iconfont icon-shouji"></em>手机版</a>
	    <div class="hd_menu_list erweima">
		   <ul>
           <h4  style="text-align:center; color:#6C6; font-size:14px; font-family:'Microsoft YaHei'">商城手机微信</h4>
            <img src="../static/images/erweima.jpg"  width="100px" height="100"/>
		   </ul>
		</div>	   
	   </li>
	  </ul>
	</div>
    </div>
  </div>
  <!--顶部样式1-->
  <div id="header"  class="header page_style">
  <div class="logo"><a href="index.html"><img src="../static/images/logo.png" /></a></div>
  <!--结束图层-->
  <div class="Search">
    <p><input name="" type="text"  class="text"/><input name="" type="submit" value="搜 索"  class="Search_btn"/></p>
	<p class="Words"><a href="#">苹果</a><a href="#">香蕉</a><a href="#">菠萝</a><a href="#">西红柿</a><a href="#">橙子</a><a href="#">苹果</a></p>
</div>
 <!--购物车样式-->
 <div class="hd_Shopping_list" id="Shopping_list">
   <div class="s_cart"><em class="iconfont icon-cart2"></em><a href="#">我的购物车</a> <i class="ci-right">&gt;</i><i class="ci-count" id="shopping-amount">0</i></div>
   <div class="dorpdown-layer">
    <div class="spacer"></div>
	 <!--<div class="prompt"></div><div class="nogoods"><b></b>购物车中还没有商品，赶紧选购吧！</div>-->
	 <ul class="p_s_list">	   
		<li>
		    <div class="img"><img src="../static/products/p_7.jpg" ></div>
		    <div class="content"><p><a href="#">产品名称</a></p><p>颜色分类:紫花8255尺码:XL</p></div>
			<div class="Operations">
			<p class="Price">￥55.00</p>
			<p><a href="#">删除</a></p></div>
		  </li>
		</ul>		
	 <div class="Shopping_style">
	 <div class="p-total">共<b>1</b>件商品　共计<strong>￥ 515.00</strong></div>
	  <a href="#" title="去购物车结算" id="btn-payforgoods" class="Shopping" >去购物车结算</a>
	 </div>	 
   </div>
 </div>
</div>
<!--菜单导航样式-->
<div id="Menu" class="clearfix">
<div class="index_style clearfix">
  <div id="allSortOuterbox" class="display">
    <div class="t_menu_img"></div>
    <div class="Category"><a href="#"><em></em>所有产品分类</a></div>
    <div class="hd_allsort_out_box_new">
	 <!--左侧栏目开始-->
	 <ul class="Menu_list">	
	    <li class="name">
		<div class="Menu_name"><a href="productList.html" >面部护理</a> <span>&lt;</span></div>
		<div class="link_name">
		  <p><a href="goodsDetials.html">茅台</a>  <a href="#">五粮液</a>  <a href="#">郎酒</a>  <a href="#">剑南春</a></p>
		</div>
		<div class="menv_Detail">
		 <div class="cat_pannel clearfix">
		   <div class="hd_sort_list">
		    <dl class="clearfix" data-tpc="1">
			 <dt><a href="#">面膜<i>></i></a></dt>
			 <dd><a href="#">撕拉面膜</a><a href="#">面膜贴</a><a href="#">免洗面膜</a><a href="#">水洗面膜</a></dd> 
			</dl>
			 <dl class="clearfix" data-tpc="2">
			 <dt><a href="#">洁面<i>></i></a></dt>
			 <dd><a href="#">洁面摩丝</a><a href="#">洁面乳 </a><a href="#">洁面啫哩/胶</a><a href="#">面部去角质/磨砂</a><a href="#">洁面膏/霜</a><a href="#">洁肤皂</a></dd> 
			</dl>
			 <dl class="clearfix" data-tpc="3">
			 <dt><a href="#">化妆水<i>></i></a></dt>
			 <dd><a href="#"> 喷雾</a><a href="#"> 精华水</a><a href="#"> 柔肤水</a><a href="#">爽肤水</a><a href="#">收敛水/紧肤水</a></dd> 
			</dl>
			 <dl class="clearfix" data-tpc="4">
			 <dt><a href="#">眼部护理<i>></i></a></dt>
			 <dd><a href="#"> 眼膜</a><a href="#"> 眼部凝胶</a><a href="#">眼部精华</a><a href="#">眼霜</a></dd> 
			</dl>
             <dl class="clearfix" data-tpc="4">
			 <dt><a href="#">眼部护理<i>></i></a></dt>
			 <dd><a href="#"> 眼膜</a><a href="#"> 眼部凝胶</a><a href="#">眼部精华</a><a href="#">眼霜</a></dd> 
			</dl>
             <dl class="clearfix" data-tpc="4">
			 <dt><a href="#">防晒<i>></i></a></dt>
			 <dd><a href="#"> 眼膜</a><a href="#"> 眼部凝胶</a><a href="#">眼部精华</a><a href="#">眼霜</a></dd> 
			</dl>
             <dl class="clearfix" data-tpc="4">
			 <dt><a href="#">唇部护理<i>></i></a></dt>
			 <dd><a href="#"> 眼膜</a><a href="#"> 眼部凝胶</a><a href="#">眼部精华</a><a href="#">眼霜</a></dd> 
			</dl> <dl class="clearfix" data-tpc="4">
			 <dt><a href="#">乳液/面霜<i>></i></a></dt>
			 <dd><a href="#"> 乳液</a><a href="#"> 面霜</a><a href="#">按摩霜</a><a href="#">面部啫喱</a><a href="#">凝露/凝胶</a></dd> 
			</dl>
		   </div><div class="Brands">
		   <a href="#" class="logo_Brands"><img src="" /></a>		   
		  </div>
		  </div>
		  <!--品牌-->		  
		</div>		 
		</li>
		<li class="name">
		<div class="Menu_name"><a href="#" >身体护理</a><span>&lt;</span></div>
		<div class="link_name">
		 <a href="goodsDetials.html"> 面霜</a><a href="#">眼霜</a><a href="#"> 面膜</a><a href="#">护肤套装</a>

		</div>
		<div class="menv_Detail">
		 <div class="cat_pannel clearfix">		   
		  </div>
		</div>		
		</li>
		<li class="name">
		<div class="Menu_name"><a href="#" >香水彩妆</a><span>&lt;</span></div>
		<div class="link_name">
		<a href="#">卸妆 </a><a href="#">防晒</a><a href="#">BB</a>
        <a href="#">女士香水</a>
		</div>
		<div class="menv_Detail">
		 <div class="cat_pannel clearfix">		   
		  </div>
		</div>	
		</li>
		<li class="name">
		<div class="Menu_name"><a href="#" >洗发护发</a><span>&lt;</span></div>
		<div class="link_name">
		<a href="#">洗发</a><a href="#">护发</a><a href="#">沐浴</a><a href="#">润肤乳</a>
		</div>
		<div class="menv_Detail">
		 <div class="cat_pannel clearfix">		    
		  </div>
		</div>	
		</li>
		<li class="name">
		<div class="Menu_name"><a href="#" >女性护理</a><span>&lt;</span></div>
		<div class="link_name">
		<a href="#">洁面</a><a href="#">坚果炒货</a><a href="#">乳液</a>
        <a href="#"> 面霜</a>
		</div>
		<div class="menv_Detail">
		 <div class="cat_pannel clearfix">		    
		  </div>
		</div>	
		</li>
        <li class="name">
		<div class="Menu_name"><a href="#" >男性护理</a><span>&lt;</span></div>
		<div class="link_name">
		<a href="#">洁面</a><a href="#">坚果炒货</a><a href="#">乳液</a>
        <a href="#"> 面霜</a>
		</div>
		<div class="menv_Detail">
		 <div class="cat_pannel clearfix">		    
		  </div>
		</div>	
		</li>
		<li class="name">
		<div class="Menu_name"><a href="#" >推荐品牌</a><span>&lt;</span></div>
		<div class="link_name">
		<a href="#">欧莱雅</a><a href="#"> 菲诗小铺</a><a href="#"> 雅诗兰黛</a>
		</div>
		<div class="menv_Detail">
		 <div class="cat_pannel clearfix">		    
		  </div>
		</div>	
		</li>
        <li class="name">
		<div class="Menu_name"><a href="#" >推荐品牌</a><span>&lt;</span></div>
		<div class="link_name">
		<a href="#">欧莱雅</a><a href="#"> 菲诗小铺</a><a href="#"> 雅诗兰黛</a>
		</div>
		<div class="menv_Detail">
		 <div class="cat_pannel clearfix">		    
		  </div>
		</div>	
		</li>		
	</ul>	
	</div>		
	</div>
	<!--菜单栏-->
	<div class="Navigation" id="Navigation">
		 <ul class="Navigation_name">
			<li><a href="#">首页</a></li>
			<li><a href="#">水果蔬菜</a></li>
			<li><a href="#">限时特卖</a><em class="hot_icon"></em></li>
			<li><a href="#">联系我们</a></li>
			<li><a href="#">鲜盟人才</a></li>
			<li><a href="#">鲜盟金融</a></li>
			<li><a href="#">鲜盟投资</a></li>
			<li><a href="#">鲜盟股票</a></li>
		 </ul>			 
		</div>
     <!-- <a href="#" class="link_bg"><img src="images/link_bg_03.png" /></a>-->
  </div>
</div>
</div>
<!--用户中心收货地址-->
 <div class="user_style clearfix">
    <div class="user_center">
    
    <!--左侧菜单栏-->
  <div class="left_style">
    <div class="menu_style">
     <div class="user_title">用户中心</div>
     <div class="user_Head">
     <div class="user_portrait">
         <a href="#" title="修改头像" class="btn_link"></a> <img th:src="'../static/images/'+${session.user.userPhoto}">
      <div class="background_img"></div>
      </div>
      <div class="user_name">
          <p><span class="name">[[${session.user.userName}]]</span><a href="#">[修改密码]</a></p>
       <p id="time">访问时间：2016-1-21 10:23</p>
       </div>
     </div>
     <div class="sideMen">
         <!--菜单列表图层-->
         <dl class="accountSideOption1">
             <dt class="transaction_manage" style="width: 200px;"><em class="icon_1"></em>订单中心</dt>
             <dd>
                 <ul>
                     <li> <a href="user.php?act=order_list"> 我的订单</a></li>
                     <li> <a href="/user/userAddress">收货地址</a></li>
                     <li> <a href="user.php?act=account_log"> 资金管理</a></li>
                 </ul>
             </dd>
         </dl>
         <dl class="accountSideOption1">
             <dt class="transaction_manage" style="width: 200px;"><em class="icon_2"></em>会员中心</dt>
             <dd>
                 <ul>
                     <li> <a href="/user/userMsg"> 用户信息</a></li>
                     <li> <a href="userCollect.html"> 我的收藏</a></li>
                     <li> <a href="user.php?act=message_list"> 我的留言</a></li>
                     <li> <a href="user.php?act=tag_list">我的标签</a></li>
                     <li> <a href="user.php?act=affiliate"> 我的推荐</a></li>
                     <li><a href="user.php?act=comment_list"> 我的评论</a></li>
                 </ul>
             </dd>
         </dl>


    </div>
		<script>jQuery(".sideMen").slide({titCell:"dt", targetCell:"dd",trigger:"click",defaultIndex:0,effect:"slideDown",delayTime:300,returnDefault:true});</script>

	</div>
  </div>
  <!--右侧样式-->
   <div class="right_style">
     <div class="info_content">
     <!--地址管理样式-->
      <div class="adderss_style">
        <div class="title_Section"><span>收货地址管理</span></div>
        <div class="adderss_list">
          <!--地址列表-->
      <div class="Address_List clearfix"> 
        <!--地址类表-->
           <ul class="Address_info" th:each="address,state:${addressList}">
            <div class="address_title">
				<a href="#" class="modify   btn btn-primary  " title="修改信息" style="background-color: #80808038;border: 0px"  data-toggle="modal" data-target="#myModal" >
					<i class="glyphicon glyphicon-edit" style="position: absolute;left: 4px;/* text-align: center; */top: 2px;" th:onclick="showDetail([[${state.index}]],[[${address.id}]])"></i>
				</a>
            地址信息 
            <a  class="delete "><i class="iconfont icon-close2" style="cursor: pointer" th:onclick="deleteAddress([[${address.id}]])"></i></a></div>
            <li th:text="${address.acceptName}" >张婷婷</li>
            <li th:text="${address.address}+':'+${address.addressDetail}">四川成都武侯区簇景横街210号3栋1单元307号。</li>
            <li th:text="${address.acceptPhone}">182938596861</li>
            <li th:text="${address.code}">610000</li>
           </ul>



         </div>
        </div>
        <form method="post" th:action="@{/user/saveAddress}" id="form1">
        <div class="Add_Addresss">
             <div class="title_name"><i></i>添加地址</div>
             <table>
              <tbody>
			  <tr>
               <td class="label_name">收货区域</td>
               <td colspan="3" class="select">
                <label> 省份 </label><select class="kitjs-form-suggestselect " id="sheng" onchange="selectShi()"><option>请选择</option></select>
                <label> 市/县 </label><select class="kitjs-form-suggestselect " id="shi" onchange="selectQu()"></select>
                <label> 区/县 </label><select class="kitjs-form-suggestselect" id="qu"></select>
               </td>
               </tr>
               <tr>
				   <td class="label_name">详细地址</td>
				   <td><input name="addressDetail"  id="addressDetils" type="text" class="Add-text"><i>（必填）</i></td>
				   <td class="label_name">收件人姓名</td>
				   <td><input name="acceptName"  id="acceptName" type="text" class="Add-text"><i>（必填）</i></td>

              <tr>
              <td class="label_name">邮&nbsp;&nbsp;编</td><td><input name="code" id="code" type="text" class="Add-text"><i>（必填）</i></td>
              <td class="label_name">手&nbsp;&nbsp;机</td><td><input name="acceptPhone" id="acceptPhone" type="text" class="Add-text"><i>（必填）</i></td>
              </tr>
              <tr>
              <td class="label_name">固定电话</td><td><input name="fixPhone"  id="fixPhone" type="text" class="Add-text"><i>（选填）</i></td></tr>
              </tr>
             </tbody></table>

			<input type="hidden" value="" id="address"  name="address"/>
			<input type="hidden" th:value="${session.user.userId}" name="userId"/>
             <div class="address_Note"><span>注：</span>只能添加4个收货地址信息。请乎用假名填写地址，如造成损失由收货人自己承担。</div>
             <div class="btn"><input  type="button" id="tijiao" value="添加地址" class="Add_btn"></div>
         </div>
       </form>
      </div>
     </div> 
   </div>
  </div>
 </div>
   <div class="slogen">
  <div class="index_style">
    <ul class="wrap">
	 <li>
	  <a href="#"><img src="../static/images/slogen_34.png" data-bd-imgshare-binded="1"></a>
	  <b>安全保证</b>
	  <span>多重保障机制 认证商城</span>
	 </li>
	 <li><a href="#"><img src="../static/images/slogen_28.png" data-bd-imgshare-binded="2"></a>
	  <b>正品保证</b>
	  <span>正品行货 放心选购</span>
	 </li>
	 <li>
	  <a href="#"><img src="../static/images/slogen_30.png" data-bd-imgshare-binded="3"></a>
	  <b>七天无理由退换</b>
	  <span>七天无理由保障消费权益</span>
	 </li>
      <li>
	  <a href="#"><img src="../static/images/slogen_31.png" data-bd-imgshare-binded="4"></a>
	  <b>天天低价</b>
	  <span>价格更低，质量更可靠</span>
	 </li>
	</ul>
  </div>
 </div>
<!--底部图层-->
<div class="phone_style">
 <div class="index_style">
   <span class="phone_number"><em class="iconfont icon-dianhua"></em>400-4565-345</span><span class="phone_title">客服热线 7X24小时 贴心服务</span>
 </div>
</div>
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog" style="width: 800px">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
				<h4 class="modal-title" id="myModalLabel">修改地址</h4>
			</div>
			<form method="post" th:action="@{/user/updateAddress}" th:id="form2">
				<div class="modify_Addresss">
					<ul>
						<li class="user_Addresss">
							<label>配送区域</label>
							<select class="SlectBox" placeholder="选择省份" id="sheng1" onchange="selectShi1()"><option value="">请选择</option></select>
							<select class="SlectBox" placeholder="选择区域" id="shi1" onchange="selectQu1()"><option value="">请选择</option></select>
							<select class="SlectBox" placeholder="选择区域" id="qu1"><option value="">请选择</option></select>
					 	</li>
						<li class="user_Addresss">
							<label> 详细地址 </label>
							<input name="addressDetail"  id="addressDetils1" type="text" class="xi_Address Add_text"><span>(必填)</span>
						</li>
						<li>
							<label>收件人姓名</label>
							<input name="acceptName"  id="acceptName1" type="text" class="Add_text"><span>(必填)</span>
						</li>
						<li>
							<label>邮政编码</label>
							<input name="code" id="code1" type="text" class="Add_text"><span>(必填)</span>
						</li>
						<li>
							<label>移动手机</label>
							<input  name="acceptPhone" id="acceptPhone1" type="text" class="Add_text"><span>(必填)</span>
						</li>
						<li>
							<label>固定电话</label>
							<input name="fixPhone"  id="fixPhone1" type="text" class="Add_text">
						</li>
						<input type="hidden" value="" id="address1"  name="address"/>
<!--						把地址id放到userid中封装过去  这里就不用重新创建一个实体类属性了-->
						<input type="hidden" th:value="${session.user.userId}" name="userId" th:id="addressId"/>
					</ul>
				</div>
			</form>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
				<button type="button" class="btn btn-primary" th:id="updateAddress">提交更改</button>
			</div>
		</div><!-- /.modal-content -->
	</div><!-- /.modal -->
</div>

<script type="text/javascript" th:inline="javascript">
	var vNow = new Date();
	var sNow = "访问时间:";
	sNow += String(vNow.getFullYear()+"-");
	sNow += String(vNow.getMonth() + 1+"-");
	sNow += String(vNow.getDate()+" ");
	sNow += String(vNow.getHours()+":");
	sNow += String(vNow.getMinutes()+":");
	sNow += String(vNow.getSeconds());
	$("#time").text(sNow)



	//获取省市区的Select
	var shengSelect = document.querySelector("#sheng");
	var shiSelect = document.querySelector("#shi");
	var quSelect = document.querySelector("#qu");
	var shengSelect1 = document.querySelector("#sheng1");
	var shiSelect1 = document.querySelector("#shi1");
	var quSelect1 = document.querySelector("#qu1");
	//获取所有的地址集合
	var provices = provice;
	for(var i=0;i<provices.length;i++){
		var shengName = provices[i].name;
		shengSelect.innerHTML += '<option value="'+shengName+'">'+shengName+'</option>';
		shengSelect1.innerHTML += '<option value="'+shengName+'">'+shengName+'</option>';
	}

	function selectShi(){
		//清空数据
		shiSelect.innerHTML = '<option value="">请选择</option>';
		var shengValue = shengSelect.value;
		for(var i=0;i<provices.length;i++){

			if(shengValue == provices[i].name){
				var shiList = provices[i].city;

				for(var j = 0;j<shiList.length;j++){
					var shiName = shiList[j].name;
					shiSelect.innerHTML += '<option value="'+shiName+'">'+shiName+'</option>';
				}
			}
		}
	}
	function selectShi1(){
		//清空数据
		shiSelect1.innerHTML = '<option value="">请选择</option>';
		quSelect1.innerHTML = '<option value="">请选择</option>';
		var shengValue = shengSelect1.value;
		for(var i=0;i<provices.length;i++){

			if(shengValue == provices[i].name){
				var shiList = provices[i].city;

				for(var j = 0;j<shiList.length;j++){
					var shiName = shiList[j].name;
					shiSelect1.innerHTML += '<option value="'+shiName+'">'+shiName+'</option>';
				}
			}
		}
	}

	function selectQu(){
		quSelect.innerHTML = '<option value="">请选择</option>';
		var shengValue = shengSelect.value;
		var shiValue = shiSelect.value;

		for(var i=0;i<provices.length;i++){
			var shiList = provices[i].city;
			for(var k=0;k<shiList.length;k++){
				if(shiValue == shiList[k].name){
					var quList = shiList[k].districtAndCounty;
					for(var j = 0;j<quList.length;j++){
						var quName = quList[j];
						quSelect.innerHTML += '<option value="'+quName+'">'+quName+'</option>';
					}
				}
			}
		}
	}

	function selectQu1(){
		quSelect1.innerHTML = '<option value="">请选择</option>';
		var shengValue = shengSelect1.value;
		var shiValue = shiSelect1.value;

		for(var i=0;i<provices.length;i++){
			var shiList = provices[i].city;
			for(var k=0;k<shiList.length;k++){
				if(shiValue == shiList[k].name){
					var quList = shiList[k].districtAndCounty;
					for(var j = 0;j<quList.length;j++){
						var quName = quList[j];
						quSelect1.innerHTML += '<option value="'+quName+'">'+quName+'</option>';
					}
				}
			}
		}
	}

	$("#tijiao").click(function (){
		var sheng = $("#sheng").val();
		var shi = $("#shi").val();
		var qu = $("#qu").val();
		console.log(sheng+":"+shi+":"+qu)
		var flag = true


		if(sheng == "请选择" ){
			flag = false
			alert("请选择省")
		}else if(shi == "请选择" || shi == null || shi ==''){
			flag = false
			alert("请选择市")
		}else if(qu == "请选择" || qu == null || qu == ''){
			flag = false
			alert("请选择区")
		}
		var address = ""
		if(flag){
			address = sheng+"-"+shi+"-"+qu
			$("#address").val(address)
		}
		console.log("address:"+address)

		var addressDetils = $("#addressDetils").val()
		var addressFlag = false
		console.log("addressDetils:"+addressDetils)
		if(addressDetils== ""){
			alert("请输入地址详细信息")
		}else {
			addressFlag = true
		}

		var acceptName = $("#acceptName").val()
		var acceptNameFlag = false
		console.log("acceptName:"+acceptName)
		if(acceptName== ""){
			alert("请输入收货人信息")
		}else {
			acceptNameFlag = true
		}


		var acceptPhone = $("#acceptPhone").val();
		var param = /^1[34578]\d{9}$/;
		var paramFlag = false
		//对手机进行正则
		if (!param.test(acceptPhone)) {
			var paramFlag = false
			alert("请输入收件人手机")
		}else{
			var paramFlag = true
		}
		//对邮编进行判断
		var code = $("#code").val()
		var codeFlag = false

		var reg = /^[1-9][0-9]{5}$/

		if(!reg.test(code)){
			alert("请输入正确的邮编")
		}else{
			codeFlag = true
		}

		if(flag && addressFlag && acceptNameFlag && paramFlag && codeFlag){
			$("#form1").submit()
		}
	})

	$(window).on("load",function(){
		var msg =  [[${returnMsg}]]
		if(msg != null){
			alert(msg)
		}
	})

	function deleteAddress(addressId){
		location.href = "http://localhost:8080/user/deleteAddress?addressId="+addressId
	}

	function showDetail(listId,addressId){
		$("#allSortOuterbox").css("z-index","-100")
		console.log(listId,addressId)
		var adds = [[${addressList}]][listId].address
		var addressCount = adds.split("-");
		$("#sheng1").each(function(){  // select 用类取得名字的到所有叫这个类的人
			$(this).find("option[value='"+addressCount[0]+"']").attr("selected",true)
		});
		//清空数据
		shiSelect1.innerHTML = '<option value="">请选择</option>';
		var shengValue = addressCount[0];
		for(var i=0;i<provices.length;i++){

			if(shengValue == provices[i].name){
				var shiList = provices[i].city;

				for(var j = 0;j<shiList.length;j++){
					var shiName = shiList[j].name;
					shiSelect1.innerHTML += '<option value="'+shiName+'">'+shiName+'</option>';
				}
			}
		}


		quSelect1.innerHTML = '<option value="">请选择</option>';
		var shengValue = shengSelect.value;
		var shiValue = addressCount[1];
		for(var i=0;i<provices.length;i++){
			var shiList = provices[i].city;
			for(var k=0;k<shiList.length;k++){
				if(shiValue == shiList[k].name){
					var quList = shiList[k].districtAndCounty;
					for(var j = 0;j<quList.length;j++){
						var quName = quList[j];
						quSelect1.innerHTML += '<option value="'+quName+'">'+quName+'</option>';
					}
				}
			}
		}
		$("#shi1").each(function(){  // select 用类取得名字的到所有叫这个类的人
			$(this).find("option[value='"+addressCount[1]+"']").attr("selected",true)
		});
		$("#qu1").each(function(){  // select 用类取得名字的到所有叫这个类的人
			$(this).find("option[value='"+addressCount[2]+"']").attr("selected",true)
		});

		$("#addressDetils1").attr("value",[[${addressList}]][listId].addressDetail)
		$("#acceptName1").attr("value",[[${addressList}]][listId].acceptName)
		$("#code1").attr("value",[[${addressList}]][listId].code)
		$("#acceptPhone1").attr("value",[[${addressList}]][listId].acceptPhone)
		$("#fixPhone1").attr("value",[[${addressList}]][listId].fixPhone)
		$("#address1").attr("value",[[${addressList}]][listId].address)
		$("#addressId").attr("value",addressId)
	}

	$("#updateAddress").click(function (){
		var sheng = $("#sheng1").val();
		var shi = $("#shi1").val();
		var qu = $("#qu1").val();
		console.log(sheng+":"+shi+":"+qu)
		var flag = true


		if(sheng == "请选择" ||  sheng == null || sheng ==''){
			flag = false
			alert("请选择省")
		}else if(shi == "请选择" || shi == null || shi ==''){
			flag = false
			alert("请选择市")
		}else if(qu == "请选择" || qu == null || qu == ''){
			flag = false
			alert("请选择区")
		}
		var address = ""
		if(flag){
			address = sheng+"-"+shi+"-"+qu
			$("#address1").val(address)
		}
		console.log("address:"+address)

		var addressDetils = $("#addressDetils1").val()
		var addressFlag = false
		console.log("addressDetils:"+addressDetils)
		if(addressDetils== ""){
			alert("请输入地址详细信息")
		}else {
			addressFlag = true
		}

		var acceptName = $("#acceptName1").val()
		var acceptNameFlag = false
		console.log("acceptName:"+acceptName)
		if(acceptName== ""){
			alert("请输入收货人信息")
		}else {
			acceptNameFlag = true
		}


		var acceptPhone = $("#acceptPhone1").val();
		var param = /^1[34578]\d{9}$/;
		var paramFlag = false
		//对手机进行正则
		if (!param.test(acceptPhone)) {
			var paramFlag = false
			alert("请输入收件人手机")
		}else{
			var paramFlag = true
		}
		//对邮编进行判断
		var code = $("#code1").val()
		var codeFlag = false

		var reg = /^[1-9][0-9]{5}$/

		if(!reg.test(code)){
			alert("请输入正确的邮编")
		}else{
			codeFlag = true
		}

		if(flag && addressFlag && acceptNameFlag && paramFlag && codeFlag){
			$("#form2").submit()
		}
	})
</script>
</body>
</html>
